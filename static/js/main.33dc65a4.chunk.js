(this["webpackJsonpsearch-movie"]=this["webpackJsonpsearch-movie"]||[]).push([[0],{16:function(e,t,a){e.exports={card:"style_card__2d9uP",imageContainer:"style_imageContainer__3TDk9",poster:"style_poster__3yd1T",text:"style_text__aLZKa",title:"style_title__21b3g",description:"style_description__1mYNf",additional:"style_additional__2Xv0f",year:"style_year__37YT3",rating:"style_rating__12w1p",layer:"style_layer__3Ljua"}},24:function(e,t,a){e.exports={app:"style_app__1DjLB",header:"style_header__nAvKQ",link:"style_link__1FxKX",main:"style_main__sl9V2"}},29:function(e,t,a){e.exports={search:"style_search__1P1Jo",input:"style_input__1eqlo",button:"style_button__1_0P8"}},3:function(e,t,a){e.exports={content:"style_content__3R8iM",title:"style_title__1qQyR",information:"style_information__VrTKL",imageWrapper:"style_imageWrapper__13Srf",poster:"style_poster__Og-IE",description:"style_description__2e0HL",item:"style_item__oFN2c",name:"style_name__QDz0h",value:"style_value__XOmls"}},30:function(e,t,a){e.exports={label:"style_label__1eeAj",select:"style_select__1P8Xx",labelText:"style_labelText__3hkmr"}},31:function(e,t,a){e.exports={title:"style_title__1GhQA",imageWrapper:"style_imageWrapper__3o0PL",image:"style_image__3xWrD"}},39:function(e,t,a){e.exports={cards:"style_cards__wtWXP",noResults:"style_noResults__-HOq0"}},43:function(e,t,a){e.exports={home:"style_home__3s-J3"}},44:function(e,t,a){e.exports={home:"style_home__3bxzu"}},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var c,s=a(2),n=a(25),r=a.n(n),i=a(7),l=a(18),o=a(9),j=a(42),u=a.n(j),b="SET_QUERY",p="SET_SEARCH_INPUT",O="SEND_REQUEST",d="SET_IF_FETCHING_MOVIES",m="SAVE_MOVIES",h="SET_NO_RESULTS",x="SET_CURRENT_PAGE",_="SET_TOTAL_PAGES",f="SET_IF_FETCHING_MORE_MOVIES",v="REQUEST_MORE_MOVIES",y="ADD_MORE_MOVIES",N="SET_SORT",g="RESET_APP",E=function(e){return{type:d,payload:e}},T=function(e){return{type:m,payload:e}},S=function(e){return{type:h,payload:e}},R=function(e){return{type:p,payload:e}},w=function(e){return{type:x,payload:e}},M=function(e){return{type:_,payload:e}},P=function(e){return{type:f,payload:e}},F=a(29),k=a.n(F),A=a(0),D=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.isFetchingMovies})),a=Object(o.f)(),c=Object(i.c)((function(e){return e.searchInput}));return Object(A.jsxs)("form",{className:k.a.search,onSubmit:function(e){e.preventDefault(),c.length&&a.replace("/?search=".concat(c))},children:[Object(A.jsx)("input",{type:"text",className:k.a.input,placeholder:"Search",onChange:function(t){var a=t.target.value.trimStart();e(R(a))},value:c}),Object(A.jsx)("button",{className:k.a.button,type:"submit",children:t?Object(A.jsx)("i",{className:"fas fa-cog fa-spin"}):Object(A.jsx)("i",{className:"fas fa-search"})})]})},I=a(19),C="YEAR_ASC",Y="YEAR_DESC",V="NAME_ASC",L="NAME_DESC",W=(c={},Object(I.a)(c,C,(function(e,t){return+e.Year-+t.Year})),Object(I.a)(c,Y,(function(e,t){return+t.Year-+e.Year})),Object(I.a)(c,V,(function(e,t){return e.Title>t.Title?1:-1})),Object(I.a)(c,L,(function(e,t){return e.Title<t.Title?1:-1})),c),q=a(30),B=a.n(q),G=function(){var e=Object(i.b)();return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("label",{htmlFor:"",className:B.a.label,children:[Object(A.jsx)("span",{className:B.a.labelText,children:"Sort By :"}),Object(A.jsxs)("select",{className:B.a.select,placeholder:"Sort By",onChange:function(t){var a;console.log(t.target.value),e((a=t.target.value,{type:N,payload:a}))},children:[Object(A.jsx)("option",{value:""}),Object(A.jsx)("option",{value:C,children:"Year Asc"}),Object(A.jsx)("option",{value:Y,children:"Year Desc"}),Object(A.jsx)("option",{value:V,children:"Name Asc"}),Object(A.jsx)("option",{value:L,children:"Name Desc"})]})]})})},H=a(23),Q=a(39),U=a.n(Q),X=a(16),J=a.n(X),K=function(e){var t=e.id,a=e.title,c=e.poster,s=e.year,n=e.type;return Object(A.jsx)(l.b,{to:t,title:a,children:Object(A.jsxs)("div",{className:J.a.card,children:[Object(A.jsx)("div",{className:J.a.imageContainer,children:Object(A.jsx)("img",{src:c,alt:a,className:J.a.poster})}),Object(A.jsxs)("div",{className:J.a.text,children:[Object(A.jsx)("div",{className:J.a.layer}),Object(A.jsx)("p",{className:J.a.title,children:a}),Object(A.jsxs)("div",{className:J.a.additional,children:[Object(A.jsxs)("span",{className:J.a.year,children:["Year ",s]}),Object(A.jsx)("span",{className:J.a.rating,children:n})]})]})]})})},z=a(43),Z=a.n(z),$=function(e){var t=e.children,a=Object(i.b)(),c=Object(i.c)((function(e){return e.query})),s=Object(i.c)((function(e){return e.currentPage}));return Object(A.jsx)("button",{className:Z.a.home,onClick:function(){return a({type:v,payload:[c,s+1]})},children:t})},ee=function(){var e=Object(i.c)((function(e){return e.movies})),t=Object(i.c)((function(e){return e.sort})),a=Object(i.c)((function(e){return e.isFetchingMovies})),c=Object(i.c)((function(e){return e.isFetchingMoreMovies})),s=Object(i.c)((function(e){return e.noResults})),n=Object(i.c)((function(e){return e.currentPage})),r=Object(i.c)((function(e){return e.totalPages})),l=t?Object(H.a)(e).sort(W[t]):e;return Object(A.jsxs)(A.Fragment,{children:[s&&Object(A.jsx)("h2",{className:U.a.noResults,children:"There are no results for this request"}),Object(A.jsx)("div",{className:U.a.cards,children:!a&&!!e.length&&l.map((function(e){return Object(A.jsx)(K,{title:e.Title,poster:"N/A"===e.Poster?"http://fpae.pt/backup/20181025/wp/wp-content/plugins/post-slider-carousel/images/no-image-available-grid.jpg":e.Poster,year:e.Year,type:e.Type,id:e.imdbID},e.id)}))}),n<r&&Object(A.jsx)($,{children:c?Object(A.jsx)("i",{className:"fas fa-cog fa-spin"}):Object(A.jsx)("i",{className:"fas fa-plus"})})]})},te=function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(ee,{})})},ae=a(32),ce=a(14),se=a.n(ce),ne=a(40),re="https://www.omdbapi.com/?apikey=".concat("fd8f696d","&"),ie=function(){var e=Object(ne.a)(se.a.mark((function e(t){var a,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(re,"s=").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return"True"===(c=e.sent).Response?console.log("success",c):console.log("failed",c),e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(ne.a)(se.a.mark((function e(t){var a,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(re,"i=").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return"True"===(c=e.sent).Response?console.log("success",c):console.log("failed",c),e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(0),console.log(e.t0),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),oe=a(44),je=a.n(oe),ue=function(){var e=Object(i.c)((function(e){return e.query})),t=Object(o.f)();return Object(A.jsx)("button",{className:je.a.home,onClick:function(){e?t.goBack():t.replace("/")},children:Object(A.jsx)("i",{className:"fas fa-home"})})},be=a(3),pe=a.n(be),Oe=function(){var e=Object(i.b)(),t=Object(s.useState)({}),a=Object(ae.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(!0),l=Object(ae.a)(r,2),j=l[0],u=l[1],b=Object(s.useState)(!1),p=Object(ae.a)(b,2),O=p[0],d=p[1],m=Object(o.h)().id,h=Object(o.f)();return Object(s.useEffect)((function(){return u(!0),le(m).then((function(e){"True"===e.Response?n(e):h.replace("/404")})).catch((function(e){h.replace("/404")})).finally((function(){!O&&u(!1)})),function(){return d(!0)}}),[m,h,e,O]),Object(A.jsxs)(A.Fragment,{children:[j&&Object(A.jsx)("h2",{className:pe.a.title,children:"Data is Loading..."}),!j&&Object(A.jsxs)("div",{className:pe.a.content,children:[Object(A.jsx)("h2",{className:pe.a.title,children:c.Title}),Object(A.jsxs)("div",{className:pe.a.information,children:[Object(A.jsx)("div",{className:pe.a.imageWrapper,children:Object(A.jsx)("img",{src:"N/A"===c.Poster?"http://fpae.pt/backup/20181025/wp/wp-content/plugins/post-slider-carousel/images/no-image-available-grid.jpg":c.Poster,alt:c.Title,className:pe.a.poster})}),Object(A.jsxs)("div",{className:pe.a.description,children:[Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Year: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Year})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Rated: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Rated})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Released: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Released})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Runtime: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Runtime})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Genre: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Genre})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Director: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Director})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Writer: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Writer})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Actors: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Actors})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Plot: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Plot})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Language: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Language})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Country: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Country})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Awards: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Awards})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"IMDb Rating: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.imdbRating})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"IMDb Votes: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.imdbVotes})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Type: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Type})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"DVD: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.DVD})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Box Office: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.BoxOffice})]}),Object(A.jsxs)("div",{className:pe.a.item,children:[Object(A.jsx)("span",{className:pe.a.name,children:"Production: "}),Object(A.jsx)("span",{className:pe.a.value,children:c.Production})]})]})]}),Object(A.jsx)(ue,{})]})]})},de=a(31),me=a.n(de),he=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h1",{className:me.a.title,children:"Something went wrong. Page\xa0not\xa0found!"}),Object(A.jsxs)("div",{className:me.a.imageWrapper,children:[Object(A.jsx)("img",{src:"https://ctoetotakoe.ru/wp-content/uploads/2016/05/404-not-found.png",alt:"404",className:me.a.image}),Object(A.jsx)(ue,{})]})]})},xe=a(24),_e=a.n(xe),fe=function(){var e=Object(i.b)(),t=Object(o.g)(),a=Object(i.c)((function(e){return e.query})),c=u()(t.search,!0).query.search;Object(s.useEffect)((function(){c&&c!==a?(e(function(e){return{type:O,payload:e}}(c)),e(function(e){return{type:b,payload:e}}(c)),e(R(c))):!c&&a&&"/"===t.pathname&&e({type:g})}),[c,a,e,t.pathname]);var n=Object(i.c)((function(e){return Boolean(e.movies.length)}));return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:_e.a.app,children:[Object(A.jsxs)("header",{className:_e.a.header,children:[Object(A.jsx)(l.c,{to:"/",className:_e.a.link,children:"Movie Searching"}),Object(A.jsx)(D,{}),n&&"/"===t.pathname&&Object(A.jsx)(G,{})]}),Object(A.jsx)("main",{className:_e.a.main,children:Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{path:"/",exact:!0,children:Object(A.jsx)(te,{})}),Object(A.jsx)(o.a,{path:"/404",exact:!0,children:Object(A.jsx)(he,{})}),Object(A.jsx)(o.a,{path:"/:id",children:Object(A.jsx)(Oe,{})})]})})]})})},ve=a(17),ye=a(45),Ne=a(46),ge=a(8),Ee={isFetchingMovies:!1,errorFetchingMovies:!1,isFetchingMoreMovies:!1,errorFetchingMoreMovies:!1,noResults:!1,query:"",searchInput:"",sort:"",movies:[],currentPage:1,totalPages:0},Te=a(10),Se=a(63),Re=se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.c)(O,we);case 2:return e.next=4,Object(Te.c)(v,Me);case 4:case"end":return e.stop()}}),e)})),we=se.a.mark((function e(t){var a,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.b)(E(!0));case 2:return e.next=4,Object(Te.b)(S(!1));case 4:return e.next=6,Object(Te.b)(M(0));case 6:return e.prev=6,e.next=9,Object(Te.a)(ie,t.payload);case 9:if("True"!==(a=e.sent).Response){e.next=18;break}return c=a.Search.map((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{id:Object(Se.a)()})})),e.next=14,Object(Te.b)(T(c));case 14:return e.next=16,Object(Te.b)(M(Math.ceil(Number(a.totalResults)/10)));case 16:e.next=22;break;case 18:return e.next=20,Object(Te.b)(T([]));case 20:return e.next=22,Object(Te.b)(S(!0));case 22:e.next=29;break;case 24:return e.prev=24,e.t0=e.catch(6),e.next=28,Object(Te.b)({type:"SET_ERROR_FETCHING_MOVIES",payload:!0});case 28:console.log(e.t0);case 29:return e.prev=29,e.next=32,Object(Te.b)(E(!1));case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[6,24,29,33]])})),Me=se.a.mark((function e(t){var a,c,s,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.b)(P(!0));case 2:return e.prev=2,a=t.payload[0],c=t.payload[1],e.next=7,Object(Te.a)(ie,"".concat(a,"&page=").concat(c));case 7:if(s=e.sent,console.log(s),"True"!==s.Response){e.next=17;break}return n=s.Search.map((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{id:Object(Se.a)()})})),e.next=13,Object(Te.b)({type:y,payload:n});case 13:return e.next=15,Object(Te.b)(w(c));case 15:e.next=17;break;case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(2),e.next=23,Object(Te.b)({type:"SET_ERROR_FETCHING_MOVIES",payload:!0});case 23:console.log(e.t0);case 24:return e.prev=24,e.next=27,Object(Te.b)(P(!1));case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[2,19,24,28]])})),Pe=Object(Ne.a)(),Fe=Object(ve.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(ge.a)(Object(ge.a)({},e),{},{isFetchingMovies:t.payload});case m:return Object(ge.a)(Object(ge.a)({},e),{},{movies:t.payload});case h:return Object(ge.a)(Object(ge.a)({},e),{},{noResults:t.payload});case b:return Object(ge.a)(Object(ge.a)({},e),{},{query:t.payload});case p:return Object(ge.a)(Object(ge.a)({},e),{},{searchInput:t.payload});case x:return Object(ge.a)(Object(ge.a)({},e),{},{currentPage:t.payload});case _:return Object(ge.a)(Object(ge.a)({},e),{},{totalPages:t.payload});case f:return Object(ge.a)(Object(ge.a)({},e),{},{isFetchingMoreMovies:t.payload});case y:return Object(ge.a)(Object(ge.a)({},e),{},{movies:[].concat(Object(H.a)(e.movies),Object(H.a)(t.payload))});case N:return Object(ge.a)(Object(ge.a)({},e),{},{sort:t.payload});case g:return Object(ge.a)(Object(ge.a)({},e),Ee);default:return e}}),void 0,Object(ye.composeWithDevTools)(Object(ve.applyMiddleware)(Pe)));Pe.run(Re);var ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};a(60);r.a.render(Object(A.jsx)(i.a,{store:Fe,children:Object(A.jsx)(l.a,{children:Object(A.jsx)(fe,{})})}),document.getElementById("root")),ke()}},[[61,1,2]]]);